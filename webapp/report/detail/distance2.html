<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="STANly@Software Maestro">
    <meta name="author" content="Team STANly">
    <!-- Le styles -->
    <link rel="stylesheet" href="/Stanly/assets/css/bootstrap.css">
    <link rel="stylesheet" href="/Stanly/assets/css/custom-bootstrap-responsive.css">

    <!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>-->
    <script type="text/javascript" src="/Stanly/assets/jqplot/jquery.js"></script>
    <script type="text/javascript" src="/Stanly/assets/jstree/_lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="/Stanly/assets/jstree/_lib/jquery.hotkeys.js"></script>
    <script type="text/javascript" src="/Stanly/assets/jstree/jquery.jstree.js"></script>




    <script type="text/javascript" src="http://mottie.github.com/tablesorter/js/jquery.tablesorter.js"></script>
    <script type="text/javascript" src="http://mottie.github.com/tablesorter/js/jquery.tablesorter.widgets.js"></script>
    <link rel="stylesheet" href="http://mottie.github.com/tablesorter/css/theme.blue.css">
    <link rel="stylesheet" href="http://mottie.github.com/tablesorter/docs/css/prettify.css">


    <script type="text/javascript" src="/Stanly/assets/jqplot/jquery.jqplot.js"></script>
    <script type="text/javascript" src="/Stanly/assets/jqplot/plugins/jqplot.bubbleRenderer.min.js"></script>
    <link rel="stylesheet" href="/Stanly/assets/jqplot/jquery.jqplot.min.css">

    <link rel="stylesheet" href="/Stanly/assets/PackageGraph/css/PackageGraph.css">

    <!--<script type="text/javascript" src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>-->
    <!--<link rel="stylesheet" href="/Stanly/assets/css/jquery-ui.css">-->

    <script type="text/javascript" src="/Stanly/report/detail/js/ProjectTree.js"></script>
    <link rel="stylesheet" href="/Stanly/report/detail/css/layout.css">

    <!-- 내용 위치&비율 조정-->
    <script type="text/javascript" src="./js/sizealign.js"></script>
</head>
<body>

    <div class="navbar navbar-fixed-top navbar-inverse">
        <div class="navbar-inner">
            <a class="brand" href="#">STANly</a>
            <ul class="nav">
                <li><a href="javascript:void(0);" >DashBoard</a></li>
                <li class="divider-vertical"></li>
                <li><a href="javascript:void(0);">Composition</a></li>
                <li class="divider-vertical"></li>
                <li><a href="javascript:void(0);" >Pollution</a></li>
                <li class="divider-vertical"></li>
                <li class="active"><a href="javascript:void(0);" >Distance</a></li>
                <li class="divider-vertical"></li>
                <li><a href="javascript:void(0);" >Metrics</a></li>
                <li class="divider-vertical"></li>
                <li><a href="./about.html">About</a></li>
                <li class="divider-vertical"></li>
            </ul>
        </div>
    </div>
    <div id="body">
        <div id="sidebar">
            <div id="sidebar_title">Project Explorer</div>
            <div id="prjtree"></div>
        </div>
        <div id="content">
            <div id="mainview_title" class="subtitle">Distance</div>
            <div id="mainview">
                <!--<div id="distance" style="height:100%;"></div>-->
                <!--<script type="text/javascript" src="/Stanly/report/js/google_jsapi.js"></script>
                <script type="text/javascript" src="/Stanly/report/js/wz_jsgraphics.js"></script>
                <script type="text/javascript" src="/Stanly/report/js/RanderDistance.js"></script>-->
                <div id="chart1b" style="height:100%;"></div>
                <div id="tooltip1b" style="height:100px; width:300px; position:absolute"></div>
                <script>
                    var arr = [
                        [0.5, 0.9, 1236, "com.sourceforge.pmd"],
                        [0.1, 0.3, 1067, "com.sourceforge.pmd.stanly"],
                        [0.9, 0.4, 1176, "AM General"],
                        [0.32, 0.56, 610, "Aston Martin Lagonda"],
                        [0.75, 0.12, 539, "Audi"],
                        [0.33, 0.51, 864, "BMW"],
                        [0.56, 0.56, 1026, "Bugatti"]];

                    var option = {
                        title: 'Martin.C Distance',
                        seriesDefaults:{
                            renderer: $.jqplot.BubbleRenderer,
                            rendererOptions: {
                                bubbleAlpha: 0.6,
                                highlightAlpha: 0.8,
                                showLabels: false
                            },
                            shadow: true,
                            shadowAlpha: 0.05
                        },
                        axesDefaults:{
                            numberTicks:13,
                            min: -0.1,
                            max: 1.1,
                            ticks:[-0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1]
                        },
                        axes:{
                            xaxis: {
                                label:"Abstractness",
                                formatString: '%0.2f'
                            },
                            yaxis: {
                                label:"Instability",
                                formatString: '%0.2f'
                            }
                        }
                    };
                    $(window).resize(function(){
                        $('#chart1b').empty();
                        $('#tooltip1b').empty();
                        DrowDistanceChart();
                    });
                    $(document).ready(function(){
                        DrowDistanceChart();
                    });
                    function DrowDistanceChart(){
                        var plot1b = $.jqplot('chart1b',[arr],option);

                        // Legend is a simple table in the html.
                        // Dynamically populate it with the labels from each data value.
                        $.each(arr, function(index, val) {
                            $('#legend1b').append('<tr><td>'+val[3]+'</td><td>'+val[2]+'</td></tr>');
                        });

                        // Now bind function to the highlight event to show the tooltip
                        // and highlight the row in the legend.
                        $('#chart1b').bind('jqplotDataHighlight',
                                function (ev, seriesIndex, pointIndex, data, radius) {
                                    var chart_left = $('#chart1b').offset().left,
                                            chart_top = $('#chart1b').offset().top,
                                            x = plot1b.axes.xaxis.u2p(data[0]),  // convert x axis unita to pixels
                                            y = plot1b.axes.yaxis.u2p(data[1]);  // convert y axis units to pixels
                                    var color = 'rgb(50%,50%,100%)';
                                    $('#tooltip1b').css({left:chart_left+x+radius+5, top:chart_top+y});
                                    $('#tooltip1b').html('<span style="font-size:14px;font-weight:bold;color:' +
                                            color + ';">' + data[3] + '</span><br />' + 'Abstractness: ' + data[0] +
                                            '<br />' + 'Instability: ' + data[1] + '<br />' + 'Line of Code: ' + data[2]);
                                    $('#tooltip1b').show();
                                    $('#legend1b tr').css('background-color', '#ffffff');
                                    $('#legend1b tr').eq(pointIndex+1).css('background-color', color);
                                });

                        // Bind a function to the unhighlight event to clean up after highlighting.
                        $('#chart1b').bind('jqplotDataUnhighlight',
                                function (ev, seriesIndex, pointIndex, data) {
                                    $('#tooltip1b').empty();
                                    $('#tooltip1b').hide();
                                    $('#legend1b tr').css('background-color', '#ffffff');
                                });

                        var canvas = $('#chart1b>.jqplot-series-shadowCanvas');
                        var canvas_height = canvas.height();
                        var canvas_width = canvas.width();
                        canvas = canvas[0].getContext('2d');
                        canvas.moveTo(0,0);
                        canvas.lineTo(canvas_width,canvas_height);
                        canvas.strokeStyle = '#cccccc';
                        canvas.stroke();
                    }
                </script>
            </div>
            <div id="detail_title">Relations</div>
            <div id="subview">
                <div id="detail_list"></div>
                <script type="text/javascript">
                    var table;
                    function BuildDetailList(id){
                        $.ajax( {
                            type :'GET'
                            ,asyn :true
                            ,url :'/Stanly/component/MartinList'
                            ,dataType :"json"
                            ,data:{Name:getProjectName(),SrcID:id}
                            //,contentType :"application/x-www-form-urlencoded;charset=UTF-8"
                            ,beforeSend : function(xhr){
                            }
                            ,success : function(jsonData) {
                                table = jsonData.metricList;

                                BuildTable();
                                AdjustStyle();
                            }
                            ,error : function(xhr, textStatus) {
                            }
                            ,complete : function(xhr, textStatus) {
                            }
                        });
                    }
                </script>
            </div>
        </div>
    </div>
<!--
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span3">
            <div id="prjtree" style="background-color:#5f9ea0"></div>
        </div>

        <div class="span9">
            <div class="vertical_fluid">
                <div class="vertical_layout9" style="background-color:#5f9ea0"></div>
                <div class="vertical_layout3" style="background-color:#5f9ea0"></div>
            </div>
        </div>
    </div>
</div>
-->
<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="/Stanly/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/Stanly/js/utilities.js"></script>
    <script type="text/javascript" src="/Stanly/report/detail/js/DetailList.js"></script>
</body>
</html>